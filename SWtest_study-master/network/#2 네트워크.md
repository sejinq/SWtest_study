# #2 네트워크

### ip주소 기본

- ip주소란? TCP/IP 프로토콜을 사용하는 모든 네트워크 장비를 구분해주는 주소

- 32bit로 이루어짐 - 32개의 자리수(2진수)

  - 하지만 우리가 보는 ip주소는 10진수
  - 32자리를 8개로 묶어서 .을 찍자
  - 192.168.0.1 > 1100 0000. 1010 1000. 0000 0000. 0000 0001
  - IPv6 = 128비트

  ​


### ip주소 배정

- 이더넷 인터페이스 : 내부 네트워크랑 연결된 인터페이스
- 시리얼 인터페이스 : 외부 네트워크랑 연결된  인터페이스



### ip주소 구분

- 네트워크 주소 : 한 인터페이스의 제공된 주소
  - 192.168.0
- 호스트주소 : 해당 인터페이스에서 객체를 구분하는 주소
  - .1



### ip주소의 클래스

ip주소를 보고 어떻게 네트워크주소와 호스트주소를 구분하나?

5개의 클래스로 이루어진 ip주소 : 크기별로 나눈 주소

- A클래스 : 1-126 / 32bit 맨 앞자리가 0이어야함. (127은 루프백 주소 : 내 자기자신) 2, 3, 4 호스트 주소
- B클래스 : 128-191 / 맨 앞자리가 10이어야함 3, 4번째 옥테드가 호스트주소
- C클래스 : 192-223 / 앞자리가 110. 4번째 옥테드만 호스트주소
- D클래스 : 224-239
- E클래스 : 240-255



### 서브네팅

배정받은 하나의 네트워크 주소를 다시 여러개의 작은 네트워크로 나누기 위해 사용하는 것

적절히 나누어 ip주소를 효율적으로 사용할 수 있게 해 준다.   

베타적 논리합(XOR) : 같으면 0, 다르면 1

서브넷 마스크는 논리곱 이용

- 서브넷 마스크(Subnet Mask)
  - 네트워크 주소/호스트 주소를 구분하기 위한 식별자
  - 네트워크 주소 : 1 / 호스트 주소 : 0
  - 네트워크를 나누기 위해
    - Class A : 255.0.0.0 / 8

      11111111 0000000000 0000000000 000000000 00000000

    - Class B : 255.255.0.0 /16

      11111111 11111111 00000000 00000000

    - Class C : 255.255.255.0 / 24

      11111111 11111111 11111111 00000000

같은 네트워크(클래스)에 존재하는 모든 호스트는 동일한 네트워크 주소를 사용하기 때문에 동일한 서브넷 마스크를 사용해야한다.

호스트주소는 0이랑 논리곱이므로 서브넷마스크를 지나면 네트워크 주소만 나오게 된다.

>서브넷 마스크는 이진수로 썼을 때 1이 연속적으로 나와야 사용가능하다
>
>서브넷은 라우터를 통해서만 통신이 가능하다
>
>서브넷당 서브넷 마스크에 따라 네트워크를 나눈다
>
>- c네트워크 192.168.123.0을 할당 받았다고 가정할 때 192.168.123.0~192.168.123.255까지의 주소가 할당된다
>
>  여기서 .0은 호스트를 지정하지 않고 네트워크를 사용할 때 이용
>
>  .255는 모든 호스트에게 메세지를 보내는 브로드캐스트를 하는 데 사용
>
>  따라서 192.168.123.1 ~ 192.168.123.254 까지의 주소를 사용한다
>
>  254대의 호스트에 ip주소를 제공할 수 있음
>
>- 필요한 호스트 대수가 150대라고 가정하면 남는 호스트 블록을 네트워크 블록에 할당하여 네트워크를 여러개의 서브넷으로 나눈다
>
>- C네트워크의 경우 호스트 : 8bit에서 사용할 호스트 7bit이외의 1bit를 네트워크로블록으로 이용가능. 000000000(0), 10000000(128)

>- pc30대 : host부분이 전체-2(맨 앞이 0이면 네트워크 주소 자체 맨 마지막 1은 브로드캐스트, 따라서 맨앞, 맨뒤는 빼야함) 
>- 2^호스트비트수 - 2 =  32 -2 = 30



### 게이트웨이(Gateway)

인터넷을 통하여 어디론가 나가고자 할 때 거치게 되는 제일 첫번째 관문

호스트가 TCP/IP를 사용하여 다른 장치와 통신할 때는 정의된 서브넷 마스크와 목적지 IP 주소 대 서브넷 마스크와 고유의 IP 주소 사이에서 비교 프로세스를 수행합니다. 이러한 비교의 결과는 목적지가 로컬 호스트인지 아니면 원격 호스트인지 여부를 컴퓨터에 알려준다.

목적지- 로컬 호스트 : 해당 로컬 서브넷에서 패킷을 보냄

목적지 - 원격 호스트 : 자신의 TCP/IP 속성에 정의된 기본 게이트웨이로 패킷을 전달. 라우터는 이를 해당 패킷을 올바른 서브넷으로 전달.

